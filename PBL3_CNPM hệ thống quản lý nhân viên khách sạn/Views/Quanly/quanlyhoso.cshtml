@model List<PBL3_CNPM.Models.Nhanvien>

@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <title>Quản lý hồ sơ</title>
    <link rel="stylesheet" href="./global.css" />
    <link rel="stylesheet" href="./index.css" />
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Irish Grover:wght@400&display=swap" />
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&display=swap" />
</head>
<body>
    <div class="qun-l-h-s-thm-h-s">
        <div class="binh-minh-hotel-parent">
            <div class="binh-minh-hotel">BINH MINH HOTEL</div>
            <div class="rectangle-parent" id="groupContainer">

                <div class="group-item" id="rectangle1"></div>
                <div class="group-inner" id="rectangle2"></div>

                <a asp-controller="Doimatkhau" asp-action="Doimatkhau" class="doimatkhau" style="position: absolute; font-weight: 500;
                   display: inline-block; top: 13px; right: 190px;text-decoration: none; color:black;">Đổi mật khẩu</a>
                <a asp-controller="Login" asp-action="Logout" class="dang-xuat-link" style="position: absolute; font-weight: 500;
            display: inline-block; top: 13px; right: 30px;text-decoration: none; color:black;">Đăng xuất</a>
            </div>
        </div>
        <img class="istockphoto-1420738401-170667a-icon"
             alt=""
             src="https://scontent.xx.fbcdn.net/v/t1.15752-9/434534001_1448732405736076_2728451762103298305_n.png?_nc_cat=108&ccb=1-7&_nc_sid=5f2048&_nc_eui2=AeE2P5sA1mJK9p7yZAhnHbdR3i0KWcVikJ_eLQpZxWKQn2eF8rUbJCrgvsFmWc-PcaF3QNeTMGaAO-LHN5k9EqKX&_nc_ohc=y7ljPR0JchcQ7kNvgE03-wU&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_Q7cD1QG9qre1FGLtoQKCts7TZOT8HTrfrbjC9JweMbkUsVettA&oe=666F1CFE" />

        <div class="thng-tin-c-nhn">
            <div class="thng-tin-c-nhn-child"></div>
            <div class="qun-l-h">Quản lý hồ sơ</div>
        </div>
        <div class="lch-lm-vic" id="lchLmVic">
            <div class="lch-lm-vic-child"></div>
            <a asp-controller="Quanly" asp-action="Phongban" class="qun-l-phng">Quản lý phòng ban</a>

            @* @* <div class="qun-l-phng">Quản lý phòng ban</div> *@
        </div>
        <div class="qun-l-h-s-thm-h-s-child" id="rectangle"></div>
        <div class="qun-l-cng-container">
            <a asp-controller="Quanly" asp-action="Quanlycongviec" class="qun-l-cng">Quản lý công việc</a>
            @*  <p class="qun-l-cng">Quản lý công việc</p> *@
        </div>
        <div class="qun-l-h-s-parent">
            <div class="qun-l-h1">Quản lý hồ sơ</div>
        </div>
        <div class="thng-tin-c-nhn1" id="thngTinCNhn1">
            <div class="thng-tin-c-nhn-item"></div>
        </div>
        <b class="user01">@ViewData["Message"]</b>
        <img class="n-1-icon"
             alt=""
             src="https://scontent.xx.fbcdn.net/v/t1.15752-9/435264282_1107310530502381_1832007922840023753_n.png?stp=cp0_dst-png&_nc_cat=105&ccb=1-7&_nc_sid=5f2048&_nc_eui2=AeEWw0jKlDzYG29vauLC2BRxJg-_qGl2dC4mD7-oaXZ0LmRBLhQT3PNGmmJczUgrzhH9vauygVsNzDWGfIeTVasP&_nc_ohc=7QbO5VWGLZcQ7kNvgGQ9hti&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_Q7cD1QHuCahA-BZu5QRB0XzUuAmzHwPKWp8nrXBqtJI9nLtY8Q&oe=666F0A10" />
        <div class="qun-l-h-s-thm-h-s-item"></div>
        <form method="get" action="@Url.Action("quanlyhoso")">
            <p>
                <div class="tknv">Tìm kiếm nhân viên: </div>
                <input type="text" class="tim" name="searchString" value="@ViewBag.SearchString" />
                <input type="submit" class="bttim" value="Tìm" />
            </p>
        </form>

        <div class="mytable">
            <table class="custom-table">
                <thead>
                    <tr>
                        <th>Mã nhân viên</th>
                        <th>Họ và tên</th>
                        <th>Ngày sinh</th>
                        <th>Giới tính</th>
                        <th>Địa chỉ</th>
                        <th>Số điện thoại</th>
                        <th>Trạng thái</th>
                        <th>#</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var nv in Model)
                    {
                        <tr>
                            <td>@nv.MaNv</td>
                            <td>@nv.TenNhanVien</td>
                            <td>@string.Format("{0:dd/MM/yyyy}", nv.NgaySinh)</td>
                            <td>@nv.GioiTinh</td>
                            <td>@nv.DiaChi</td>
                            <td>@nv.SoDienThoai</td>
                            <td>@(nv.TrangThai.HasValue ? (nv.TrangThai.Value ? "Hoạt động" : "Bị khóa") : "Trạng thái không xác định")</td>
                            <td>
                                @if (nv.TrangThai == true)
                                {
                                    <button type="button" class="btn btn-danger"
                                            onclick="window.location.href='@Url.Action("Chinhsua", "Quanly",  new { id = nv.MaNv})'">
                                        Chỉnh sửa
                                    </button>

                                    <button type="button" class="btn btn-danger"
                                            onclick="confirmLock('@Url.Action("khoa", "Quanly", new { id = nv.MaNv, tk = @ViewBag.SearchString })')">
                                        Khóa hồ sơ
                                    </button>

                                    <script type="text/javascript">
                                        function confirmLock(url) {
                                            if (confirm('Bạn có chắc chắn muốn khóa hồ sơ này không?')) {
                                                window.location.href = url;
                                            }
                                        }
                                    </script>
                                }
                                else
                                {
                                    <button type="button" class="btn btn-danger"
                                            onclick="confirmUnlock('@Url.Action("mokhoa", "Quanly", new { id = nv.MaNv, tk = @ViewBag.SearchString })')">
                                        Mở khóa hồ sơ
                                    </button>

                                    <script type="text/javascript">
                                        function confirmUnlock(url) {
                                            if (confirm('Bạn có chắc chắn muốn mở khóa hồ sơ này không?')) {
                                                window.location.href = url;
                                            }
                                        }
                                    </script>

                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div>
            <a asp-controller="Quanly" asp-action="themhoso" class="btAdd" style="text-decoration: none; color:black ;">Thêm hồ sơ</a>
        </div>
    </div>
</body>
</html>
<style>
    .tknv {
        position: absolute;
        top: 180px;
        left: 320px;
        font-size: 20px;
    }

    .btn-danger {
        background-color: rgba(39, 162, 58, 0.8);
        border-color: rgba(39, 162, 58, 0.8);
    }

        .btn-danger:hover {
            background-color: rgba(39, 162, 58, 0.8);
            border-color: rgba(39, 162, 58, 0.8);
        }

    .tim {
        position: absolute;
        top: 210px;
        left: 320px;
        width: 300px;
        height: 30px;
        font-size: 20px;
        border-radius: 5px;
    }

    .bttim {
        position: absolute;
        top: 210px;
        left: 650px;
        width: 100px;
        height: 35px;
        font-size: 24px;
        border-radius: 5px;
        background-color: rgba(39, 162, 58, 0.8);
    }

    .btAdd {
        position: absolute;
        top: 190px;
        left: 1250px;
        width: 150px;
        height: 40px;
        font-size: 24px;
        border-radius: 5px;
        background-color: rgba(39, 162, 58, 0.8);
        border: 1px solid black;
        display: flex;
        justify-content: center; /* Canh giữa theo chiều ngang */
        align-items: center; /* Canh giữa theo chiều dọc */
    }

    .mytable {
        position: absolute;
        top: 280px;
        left: 300px;
        max-width: 100%; /* Độ rộng tối đa của bảng */
        overflow-x: auto; /* Tạo thanh cuộn ngang nếu bảng vượt quá chiều rộng */
        max-height: 800px; /* Chiều cao tối đa của bảng (điều chỉnh theo nhu cầu của bạn) */
        overflow-y: auto; /* Tạo thanh cuộn dọc nếu bảng vượt quá chiều cao */
    }

    .custom-table {
        border-collapse: collapse;
        width: 1200px;
    }

    .mytable thead {
        position: sticky;
        top: 0; /* Giữ phần head ở vị trí đầu tiên */
        z-index: 1; /* Đảm bảo phần head hiển thị trên cùng */
        background-color: #f2f2f2; /* Màu nền cho phần head */
    }

    th, td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
        height: 20px;
        color: var(--color-black);
        font-size: 16px;
        background-color: var(--color-white);
    }

    th {
        background-color: rgba(39, 162, 58, 0.8);
    }

    .binh-minh-hotel {
        position: absolute;
        top: 0;
        left: 148px;
        display: inline-block;
        width: 279px;
        height: 111px;
    }

    .group-child,
    .group-inner,
    .group-item {
        position: absolute;
        top: 0;
        left: 0;
        border-radius: var(--br-3xs);
        background-color: var(--color-white);
        border: 1px solid var(--color-black);
        box-sizing: border-box;
        width: 160px;
        height: 50px;
        cursor: pointer;
    }

    .group-inner,
    .group-item {
        left: 170px;
    }

    .group-inner {
        left: 340px;
    }

    .i-mt-khu,
    .ng-xut,
    .trang-ch {
        position: absolute;
        top: 13px;
        left: 33px;
        font-weight: 500;
        display: inline-block;
        width: 116px;
        height: 28px;
    }

    .i-mt-khu,
    .ng-xut {
        left: 191px;
        width: 134px;
    }

    .ng-xut {
        left: 372px;
        width: 116px;
    }

    .rectangle-parent {
        position: absolute;
        top: 35px;
        left: 900px;
        width: 500px;
        height: 50px;
        cursor: pointer;
        font-size: var(--font-size-xl);
        color: var(--color-black);
        font-family: var(--font-inter);
    }

    .binh-minh-hotel-parent {
        position: absolute;
        top: 0;
        left: 0;
        background-color: rgba(49, 162, 39, 0.8);
        width: 1550px;
        height: 120px;
        overflow: hidden;
        font-size: 50px;
        font-family: var(--font-irish-grover);
    }

    .istockphoto-1420738401-170667a-icon {
        position: absolute;
        top: 13px;
        left: 15px;
        width: 107px;
        height: 96px;
        object-fit: cover;
    }

    .thng-tin-c-nhn-child {
        position: absolute;
        top: 0;
        left: 0;
        background-color: var(--color-black);
        width: 289px;
        height: 90px;
    }

    .qun-l-h {
        position: absolute;
        top: 32px;
        left: 69.3px;
        font-weight: 500;
        display: inline-block;
        width: 219.7px;
        height: 32px;
    }

    .lch-lm-vic-child,
    .thng-tin-c-nhn {
        position: absolute;
        top: 220px;
        left: 0;
        width: 289px;
        height: 90px;
    }

    .lch-lm-vic-child {
        top: 0;
        background-color: var(--color-darkslategray);
    }

    .qun-l-phng {
        position: absolute;
        top: 32px;
        left: 48px;
        font-weight: 500;
        display: inline-block;
        width: 204.6px;
        height: 40px;
        color: white; /* Màu chữ */
        font-family: var(--font-inter); /* Kiểu font chữ */
        text-decoration: none; /* Loại bỏ gạch chân */
    }

    .lch-lm-vic,
    .qun-l-h-s-thm-h-s-child {
        position: absolute;
        top: 310px;
        left: 0;
        width: 289px;
        height: 90px;
        cursor: pointer;
    }

    .qun-l-h-s-thm-h-s-child {
        top: 400px;
        background-color: var(--color-darkslategray);
    }

    .qun-l-cng {
        margin: 0;
        color: white; /* Màu chữ */
        font-family: var(--font-inter); /* Kiểu font chữ */
        text-decoration: none; /* Loại bỏ gạch chân */
    }

    .qun-l-cng-container {
        position: absolute;
        top: 429px;
        left: 53px;
        font-weight: 500;
        display: inline-block;
        width: 188px;
        height: 39px;
    }

    .qun-l-h1,
    .thm-h-s {
        position: absolute;
        top: -1px;
        left: -11px;
        font-weight: 600;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        width: 192px;
        height: 30px;
    }

    .thm-h-s {
        top: -2px;
        left: 161px;
        white-space: pre-wrap;
        width: 227px;
        height: 31px;
    }

    .qun-l-h-s-parent {
        position: absolute;
        top: 140px;
        left: 311px;
        background-color: #e2ffe1;
        width: 1104px;
        height: 32px;
        overflow: hidden;
        text-align: center;
        font-size: var(--font-size-xl);
        color: var(--color-black);
    }

    .thng-tin-c-nhn-item,
    .thng-tin-c-nhn1 {
        position: absolute;
        left: 0;
        width: 289px;
        height: 100px;
    }

    .thng-tin-c-nhn-item {
        top: 0;
        background-color: var(--color-darkslategray);
    }

    .thng-tin-c-nhn1 {
        top: 120px;
        cursor: pointer;
    }

    .user01 {
        position: absolute;
        top: 160px;
        left: 155px;
        display: inline-block;
        text-align: right;
        width: 86px;
        height: 24px;
    }

    .n-1-icon {
        position: absolute;
        top: 136px;
        left: 55px;
        width: 75px;
        height: 75px;
        object-fit: cover;
    }

    .qun-l-h-s-thm-h-s-item {
        position: absolute;
        top: 490px;
        left: 0;
        background-color: rgba(39, 162, 58, 0.8);
        width: 289px;
        height: 534px;
        overflow: hidden;
    }

    .qun-l-h-s-thm-h-s {
        width: 100%;
        position: relative;
        height: 1024px;
        overflow: hidden;
        background-image: url(https://scontent.xx.fbcdn.net/v/t1.15752-9/435229924_1387605835555899_1676943816951711557_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=5f2048&_nc_eui2=AeFJMnRkpBX4VXFUqgQe8t4MAnEj3tDXrhwCcSPe0NeuHBfYQCRlTLYqRSzjZcYLanAmYfZQt1qLkkGk46N3Lk1j&_nc_ohc=4qGMy2x1nkAQ7kNvgF8QXEK&_nc_ad=z-m&_nc_cid=0&_nc_ht=scontent.xx&oh=03_Q7cD1QFmiijBIT5AWF2AnVv8f4IrwN93aRQe726l3hCJrs0eXg&oe=666F181D);
        background-size: cover;
        background-repeat: no-repeat;
        background-position: top;
        text-align: left;
        font-size: var(--font-size-3xl);
        color: var(--color-white);
        font-family: var(--font-inter);
    }

    body {
        margin: 0;
        line-height: normal;
    }

    :root {
        /* fonts */
        --font-inter: Inter;
        --font-irish-grover: "Irish Grover";
        /* font sizes */
        --font-size-3xl: 22px;
        --font-size-xl: 20px;
        /* Colors */
        --color-white: #fff;
        --color-darkslategray: rgba(48, 46, 46, 0.89);
        --color-black: #000;
        /* Border radiuses */
        --br-3xs: 10px;
    }
</style>